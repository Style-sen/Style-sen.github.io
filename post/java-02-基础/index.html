<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>JAVA-基础 - 锦枫紫兰</title><meta name="description" content="JVM"><meta property="og:title" content="JAVA-基础" />
<meta property="og:description" content="JVM" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/java-02-%E5%9F%BA%E7%A1%80/" />
<meta property="og:image" content="/logo.png"/>
<meta property="article:published_time" content="2020-02-15T10:52:11+00:00" />
<meta property="article:modified_time" content="2020-02-15T10:52:11+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/logo.png"/>

<meta name="twitter:title" content="JAVA-基础"/>
<meta name="twitter:description" content="JVM"/>
<meta name="application-name" content="锦枫紫兰">
<meta name="apple-mobile-web-app-title" content="锦枫紫兰"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/post/java-02-%E5%9F%BA%E7%A1%80/" /><link rel="prev" href="/post/java-03-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" /><link rel="next" href="/post/java-jvm%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%80%A7%E8%83%BD/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "JAVA-基础",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/post\/java-02-%E5%9F%BA%E7%A1%80\/"
        },"image": ["\/images\/Apple-Devices-Preview.webp"],"genre": "post","keywords": "JAVA","wordcount":  4743 ,
        "url": "\/post\/java-02-%E5%9F%BA%E7%A1%80\/","datePublished": "2020-02-15T10:52:11+00:00","dateModified": "2020-02-15T10:52:11+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "\/images\/avatar.webp"},"author": {
                "@type": "Person",
                "name": "子兰"
            },"description": "JVM"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="锦枫紫兰">锦枫紫兰</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/post/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/about/" title="关于"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="锦枫紫兰">锦枫紫兰</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/post/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/about/" title="关于">关于</a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto" style="top:8rem;">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single special" data-toc="enable"><h2 class="single-title animated fadeInDown faster">JAVA-基础</h2><div class="single-card" ><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>目录</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#基本类型">基本类型</a>
      <ul>
        <li><a href="#浮点数">浮点数</a></li>
        <li><a href="#boolean">Boolean</a></li>
      </ul>
    </li>
    <li><a href="#引用类型">引用类型</a></li>
  </ul>

  <ul>
    <li><a href="#常量池">常量池</a></li>
    <li><a href="#内存分析">内存分析</a></li>
  </ul>

  <ul>
    <li><a href="#声明">声明</a></li>
    <li><a href="#初始化">初始化</a>
      <ul>
        <li>
          <ul>
            <li><a href="#静态初始化">静态初始化</a></li>
            <li><a href="#动态初始化">动态初始化</a></li>
            <li><a href="#默认初始化">默认初始化</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#遍历">遍历</a></li>
    <li><a href="#拷贝">拷贝</a></li>
    <li><a href="#javautilarrays类">java.util.Arrays类</a></li>
    <li><a href="#多维数组">多维数组</a></li>
    <li><a href="#数组存对象">数组存对象</a></li>
  </ul>

  <ul>
    <li><a href="#异常处理采用面向对象的方式来处理异常">异常处理（采用面向对象的方式来处理异常）</a>
      <ul>
        <li><a href="#捕获异常">捕获异常</a>
          <ul>
            <li><a href="#try-with-resources">try-with-resources</a></li>
          </ul>
        </li>
        <li><a href="#声明异常">声明异常</a></li>
      </ul>
    </li>
    <li><a href="#异常分类">异常分类</a>
      <ul>
        <li><a href="#error">Error</a></li>
        <li><a href="#exception">Exception</a>
          <ul>
            <li><a href="#runtimeexception">RuntimeException</a></li>
            <li><a href="#checkedexception">CheckedException</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#自定义异常">自定义异常</a></li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><p><a href="https://www.w3cschool.cn/java/java-basic-syntax.html" target="_blank" rel="noopener noreffer">JAVA基本语法</a>
<a href="https://www.sxt.cn/Java_jQuery_in_action/seven-array-declaration.html" target="_blank" rel="noopener noreffer">参考速学堂</a></p>
<h1 id="面向对象">面向对象</h1>
<ol>
<li><em>核心：将物理事物用代码抽象出来，拟物化编程</em>。</li>
<li>一个Java程序可以认为是一系列对象的集合，而这些对象通过调用彼此的方法来协同工作。</li>
</ol>
<h1 id="基本概念">基本概念</h1>
<h1 id="基本语法">基本语法</h1>
<ol>
<li>大小写敏感：Java是大小写敏感的，这就意味着标识符Hello与hello是不同的。</li>
<li>类名：对于所有的类来说，类名的首字母应该大写。如果类名由若干单词组成，那么每个单词的首字母应该大写，例如 MyFirstJavaClass 。</li>
<li>方法名：所有的方法名都应该以小写字母开头。如果方法名含有若干单词，则后面的每个单词首字母大写。</li>
<li>源文件名：<code>源文件名必须和类名相同</code>。当保存文件的时候，你应该使用类名作为文件名保存（切记Java是大小写敏感的），文件名的后缀为.java。（如果文件名和类名不相同则会导致编译错误）。</li>
<li>主方法入口：所有的Java 程序由public static void main(String args[])方法开始执行。</li>
</ol>
<h1 id="数据类型">数据类型</h1>
<h2 id="基本类型">基本类型</h2>
<h3 id="浮点数">浮点数</h3>
<ol>
<li>浮点常量默认是double的，单精度保存小数点7位；</li>
<li>浮点数是不精确的，避免浮点数之间的比较。</li>
<li>使用高精度，可使用java.math中的类 BigDecimal（不可变的、任意精度的有符号十进制数。）和类 BigInteger（不可变的任意精度的整数。）</li>
</ol>
<h3 id="boolean">Boolean</h3>
<ol>
<li>按bit位占内存.</li>
</ol>
<h2 id="引用类型">引用类型</h2>
<ol>
<li>字符串是对象。</li>
</ol>
<h1 id="控制语句">控制语句</h1>
<ol>
<li>带标签的break和continue</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">public class Test18 {
    public static void main(String args[]) {
        outer: for (int i = 101; i &lt; 150; i++) {
            for (int j = 2; j &lt; i / 2; j++) {
                if (i % j == 0){
                    continue outer;
                }
            }
            System.out.print(i + &#34;  &#34;);
        }
    }
}
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li><code>方法重载</code>（方法名称相同，形式参数类型不同，形式参数个数不同，形式参数顺序不同，可以重载）。</li>
<li>递归（递归头和递归体），尽量避免使用递归，效率低下。一般都可以使用循环或if替代。</li>
</ol>
<h1 id="string">String</h1>
<ol>
<li>最常用。</li>
<li>String类又称作不可变字符序列。</li>
<li>Java没有内置的字符串类型，而是在标准Java类库中提供了一个预定义的类String，<code>每个用双引号括起来的字符串都是String类的一个实例</code>。</li>
</ol>
<h2 id="常量池">常量池</h2>
<ol>
<li>全局字符串常量池(<code>String Pool</code>)
全局字符串常量池中存放的内容是在类加载完成后存到String Pool中的，<code>在每个VM中只有一份</code>，存放的是字符串常量的引用值(在堆中生成字符串对象实例)。</li>
<li>class文件常量池(<code>Class Constant Poo</code>l)
<code>class常量池是在编译的时候每个class都有的，在编译阶段，存放的是常量(文本字符串、final常量等)和符号引用</code>。</li>
<li>运行时常量池(<code>Runtime Constant Pool</code>)
运行时常量池是在类加载完成之后，将每个class常量池中的符号引用值转存到运行时常量池中，也就是说，<code>每个class都有一个运行时常量池</code>，类在解析之后，将符号引用替换成直接引用，与全局常量池中的引用值保持一致。</li>
</ol>
<h2 id="内存分析">内存分析</h2>
<ol>
<li><code>String str1 = &quot;abc&quot;;在堆中会有一个“abc”实例，全局String Pool中存放着“abc”的一个引用值</code>.</li>
<li><code>String str2 = new String(&quot;def&quot;);``生成两个实例</code>，一个是“def”的实例对象，并且String Pool中存储一个“def”的引用值，还有一个是new出来的一个“def”的实例对象，与前边那个是不同的实例;<code>str2.intern();</code>返回String Pool中“def”的引用值，如果没有就将str2的引用值添加进去.</li>
</ol>
<h1 id="数组">数组</h1>
<ol>
<li>数组是相同类型数据的有序集合。</li>
<li>长度是确定的。数组一旦被创建，它的大小就是不可以改变的。</li>
<li>其元素必须是相同类型，不允许出现混合类型。</li>
<li>数组类型可以是任何数据类型，包括基本类型和引用类型。</li>
<li>数组变量属引用类型，数组也可以看成是对象，<code>数组中的每个元素相当于该对象的成员变量</code>。数组本身就是对象，Java中对象是在堆中的，因此数组无论保存原始类型还是其他对象类型，<code>数组对象本身是在堆中存储的</code>。</li>
</ol>
<h2 id="声明">声明</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">type</span><span class="p">[]</span>   <span class="nx">arr_name</span><span class="p">;</span> <span class="c1">//（推荐使用这种方式）
</span><span class="c1"></span><span class="nx">type</span>    <span class="nx">arr_name</span><span class="p">[];</span>
</code></pre></td></tr></table>
</div>
</div><ol>
<li>声明的时候并没有实例化任何对象，只有在实例化数组对象时，JVM才分配空间，这时才与长度有关。</li>
<li>声明一个数组的时候并没有数组真正被创建。</li>
<li>构造一个数组，必须指定长度。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">int</span><span class="p">[]</span> <span class="nx">s</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">// 声明数组；
</span><span class="c1"></span><span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="kr">int</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span> <span class="c1">// 给数组分配空间；
</span><span class="c1"></span>
<span class="nx">Man</span><span class="p">[]</span> <span class="nx">mans</span><span class="p">;</span>  <span class="c1">//声明引用类型数组； 
</span><span class="c1"></span><span class="nx">mans</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Man</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>  <span class="c1">//给引用类型数组分配空间；
</span></code></pre></td></tr></table>
</div>
</div><h2 id="初始化">初始化</h2>
<h4 id="静态初始化">静态初始化</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">int[] a = { 1, 2, 3 };// 静态初始化基本类型数组；
Man[] mans = { new Man(1, 1), new Man(2, 2) };// 静态初始化引用类型数组；
</code></pre></td></tr></table>
</div>
</div><h4 id="动态初始化">动态初始化</h4>
<h4 id="默认初始化">默认初始化</h4>
<ol>
<li>数组是引用类型，它的元素相当于类的实例变量，因此数组一经分配空间，其中的每个元素也被按照实例变量同样的方式被隐式初始化。</li>
</ol>
<h2 id="遍历">遍历</h2>
<ol>
<li>通过for和下标进行遍历（读取或修改）。</li>
<li>增强for循环for-each是JDK1.5新增加的功能，<code>专门用于读取数组或集合中所有的元素</code>，即对数组进行遍历，不能修改。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">String[] ss = { &#34;aa&#34;, &#34;bbb&#34;, &#34;ccc&#34;, &#34;ddd&#34; };
for (String temp : ss) {
    System.out.println(temp);
}
</code></pre></td></tr></table>
</div>
</div><h2 id="拷贝">拷贝</h2>
<ol>
<li><code>System类里也包含了一个static void arraycopy(object src，int srcpos，object dest， int destpos，int length)方法</code>，该方法可以将src数组里的元素值赋给dest数组的元素，其中srcpos指定从src数组的第几个元素开始赋值，length参数指定将src数组的多少个元素赋给dest数组的元素。</li>
</ol>
<h2 id="javautilarrays类">java.util.Arrays类</h2>
<ol>
<li>包含了常用的数组操作，方便我们日常开发。Arrays类包含了：排序、查找、填充、打印内容等常见的操作。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">Arrays.toString()    // 打印
Arrays.sort()    // 排序
Arrays.binarySearch(a, 12)    // 返回元素索引
Arrays.fill(a, 2, 4, 100);  //将2到4索引的元素替换为100;
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>通过实现Comparable接口的compareTo方法，可以自定义排序规则。</li>
</ol>
<h2 id="多维数组">多维数组</h2>
<ol>
<li>实际开发中用的非常少。最多到二维数组(学习容器后，<code>我们一般使用容器</code>，二维数组用的都很少)。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">public class Test {
    public static void main(String[] args) {
        // Java中多维数组的声明和初始化应按从低维到高维的顺序进行
        int[][] a = new int[3][];
        a[0] = new int[2];
        a[1] = new int[4];
        a[2] = new int[3];
        // int a1[][]=new int[][4];//非法
    }
}
        int[][] a = new int[3][];
        // a[0] = {1,2,5}; //错误，没有声明类型就初始化
        a[0] = new int[] { 1, 2 };
        a[1] = new int[] { 2, 2 };
        a[2] = new int[] { 2, 2, 3, 4 };
</code></pre></td></tr></table>
</div>
</div><h2 id="数组存对象">数组存对象</h2>
<ol>
<li>此处基本数据类型”1001”，本质不是Object对象。<code>JAVA编译器会自动把基本数据类型“自动装箱”成包装类对象（需要对象的场合）</code>。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">Object[] a1 = {1001,&#34;高淇&#34;,18,&#34;讲师&#34;,&#34;2006-2-14&#34;};
Object[] a2 = {1002,&#34;高小七&#34;,19,&#34;助教&#34;,&#34;2007-10-10&#34;};
Object[] a3 = {1003,&#34;高小琴&#34;,20,&#34;班主任&#34;,&#34;2008-5-5&#34;};
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>通常情况下，我们<code>使用javabean</code>实现对象数组。</li>
</ol>
<h1 id="异常机制">异常机制</h1>
<ol>
<li>就是当程序出现错误，程序安全退出的机制。</li>
<li>在Java的异常处理机制中，引进了很多用来描述和处理异常的类，称为异常类。异常类定义中包含了该类异常的信息和对异常进行处理的方法。</li>
<li><code>所谓异常处理，就是指程序在出现问题时依然可以正确的执行完</code>。</li>
</ol>
<h2 id="异常处理采用面向对象的方式来处理异常">异常处理（采用面向对象的方式来处理异常）</h2>
<ol>
<li><code>抛出异常</code>：在执行一个方法时，如果发生异常，则这个方法生成代表该异常的一个对象，停止当前执行路径，并把异常对象提交给JRE。</li>
<li><code>捕获异常</code>：JRE得到该异常后，寻找相应的代码来处理该异常。JRE在方法的调用栈中查找，从生成异常的方法开始回溯，直到找到相应的异常处理代码为止。</li>
<li>异常的处理方式有两种：使用“try/catch”捕获异常、使用“throws”声明异常。</li>
</ol>
<h3 id="捕获异常">捕获异常</h3>
<ol>
<li>捕获异常是通过3个关键词来实现的：try-catch-finally。用try来执行一段程序，如果出现异常，系统抛出一个异常，可以通过它的类型来捕捉(catch)并处理它，最后一步是通过finally语句为异常处理提供一个统一的出口，finally所指定的代码都要被执行(catch语句可有多条;finally语句最多只能有一条，根据自己的需要可有可无)。</li>
<li>一个try语句必须带有至少一个catch语句块或一个finally语句块 。</li>
<li>如果异常类之间有继承关系，在顺序安排上需注意。<code>越是顶层的类，越放在下面</code>，再不然就直接把多余的catch省略掉。 也就是先捕获子类异常再捕获父类异常。</li>
<li>有些语句，不管是否发生了异常，都必须要执行，那么就可以把这样的语句放到finally语句块中。</li>
<li>通常在finally中关闭程序块已打开的资源，比如：关闭文件流、释放数据库连接等。</li>
<li><code>即使try和catch块中存在return语句，finally语句也会执行。是在执行完finally语句后再通过return退出</code>。</li>
<li>finally语句块只有一种情况是不会执行的，那就是在执行finally之前遇到了System.exit(0)结束程序运行。</li>
</ol>
<h4 id="try-with-resources">try-with-resources</h4>
<ol>
<li>是 JDK 7 中一个新的异常处理机制，它能够很容易地关闭在 try-catch 语句块中使用的资源。</li>
<li>所谓的资源（resource）是指在程序完成后，必须关闭的对象。try-with-resources 语句确保了每个资源在语句结束时关闭。所有实现了 java.lang.AutoCloseable 接口（其中，它包括实现了 java.io.Closeable 的所有对象），可以使用作为资源。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">public class Main2 {    
    public static void main(String[] args) {
        try(ResourceSome some = new ResourceSome();
             ResourceOther other = new ResourceOther()) {
            some.doSome();
            other.doOther();
        } catch(Exception ex) {
            ex.printStackTrace();
        }
    }
}

class ResourceSome implements AutoCloseable {
    void doSome() {
        System.out.println(&#34;do something&#34;);
    }
    @Override
    public void close() throws Exception {
        System.out.println(&#34;some resource is closed&#34;);
    }
}

class ResourceOther implements AutoCloseable {
    void doOther() {
        System.out.println(&#34;do other things&#34;);
    }
    @Override
    public void close() throws Exception {
        System.out.println(&#34;other resource is closed&#34;);
    }
}
最终输出为：

do something
do other things
other resource is closed
some resource is closed
在 try 语句中越是最后使用的资源，越是最早被关闭。
</code></pre></td></tr></table>
</div>
</div><p>在 JDK 9 已得到改进。如果你已经有一个资源是 final 或等效于 final 变量,您可以在 try-with-resources 语句中使用该变量，而无需在 try-with-resources 语句中声明一个新变量。</p>
<h3 id="声明异常">声明异常</h3>
<ol>
<li>如果一个方法中可能产生某种异常，但是并不能确定如何处理这种异常，则应根据异常规范在方法的首部声明该方法可能抛出的异常。</li>
<li>如果一个方法抛出多个已检查异常，就必须在方法的首部列出所有的异常，之间以逗号隔开。</li>
<li><code>方法重写</code>中声明异常原则：子类重写父类方法时，如果父类方法有声明异常，那么子类声明的异常范围不能超过父类声明的范围。</li>
<li>throws和throw</li>
</ol>
<h2 id="异常分类">异常分类</h2>
<ol>
<li>所有异常对象都是<code>派生于Throwable类(java.lang.Throwable)的一个实例</code>。如果内置的异常类不能够满足需要，还可以创建自己的异常类。</li>
<li>Java对异常进行了分类，不同类型的异常分别用不同的Java类表示，<code>所有异常的根类为java.lang.Throwable</code>，<code>Throwable下面又派生了两个子类：Error和Exception</code>。</li>
</ol>
<h3 id="error">Error</h3>
<ol>
<li>表示代码运行时<code> JVM(Java 虚拟机)</code>出现的问题.</li>
<li>Error表明系统JVM已经处于不可恢复的崩溃状态中。</li>
</ol>
<h3 id="exception">Exception</h3>
<ol>
<li>Exception是程序本身能够处理的异常.</li>
<li>Exception类是所有异常类的父类，其子类对应了各种各样可能出现的异常事件。 通常Java的异常可分为：
<ol>
<li>RuntimeException 运行时异常</li>
<li>CheckedException 已检查异常</li>
</ol>
</li>
</ol>
<h4 id="runtimeexception">RuntimeException</h4>
<ol>
<li>由系统自动检测并将它们交给缺省的异常处理程序(用户可不必对其处理)。</li>
<li>这类异常通常是由<code>编程错误</code>导致的，所以在编写程序时，并不要求必须使用异常处理机制来处理这类异常,经常需要通过增加“<code>逻辑处理</code>来避免这些异常”。</li>
</ol>
<h4 id="checkedexception">CheckedException</h4>
<ol>
<li>这类异常在编译时就必须做出处理，否则无法通过编译。</li>
</ol>
<h2 id="自定义异常">自定义异常</h2>
<ol>
<li>自定义异常类只需从Exception类或者它的子类派生一个子类即可。</li>
<li>自定义异常类如果继承Exception类，则为受检查异常，必须对其进行处理;如果不想处理，可以让自定义异常类继承运行时异常RuntimeException类。</li>
<li>习惯上，自定义异常类应该包含2个构造器：<code>一个是默认的构造器，另一个是带有详细信息的构造器</code>。</li>
<li>要避免使用异常处理代替错误处理，这样会降低程序的清晰性，并且效率低下。</li>
<li>处理异常不可以代替简单测试&mdash;只在异常情况下使用异常机制。</li>
<li>不要进行小粒度的异常处理&mdash;应该将整个任务包装在一个try语句块中。</li>
<li>异常往往在高层处理。</li>
</ol>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/java/">JAVA</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>更新于 2020-02-15</span>
            </div><div class="post-info-mod"></div>
        </div></div><div class="post-nav"><a href="/post/java-03-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="prev" rel="prev" title="JAVA-面向对象"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/post/java-jvm%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%80%A7%E8%83%BD/" class="next" rel="next" title="JAVA-JVM底层原理与性能">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.0"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/">子兰</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.css"><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.8.5/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/mhchem.min.js"></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"Style-sen/hugoblogtalks"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"HM4MCKQ8J3","algoliaIndex":"blog_hugo","algoliaSearchKey":"745772944fb8af8e9fedec85d62d1a07","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script src="/js/themes.min.js"></script></body>
</html>
