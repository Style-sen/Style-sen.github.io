<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>NodeJS概览及开发框架 - 锦枫紫兰</title><meta name="description" content="安装、NPM命令、PM2使用、内置对象、工程结构、框架集合"><meta property="og:title" content="NodeJS概览及开发框架" />
<meta property="og:description" content="安装、NPM命令、PM2使用、内置对象、工程结构、框架集合" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/js-nodejs/" />
<meta property="og:image" content="/logo.png"/>
<meta property="article:published_time" content="2018-12-20T10:52:11+00:00" />
<meta property="article:modified_time" content="2018-12-20T10:52:11+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/logo.png"/>

<meta name="twitter:title" content="NodeJS概览及开发框架"/>
<meta name="twitter:description" content="安装、NPM命令、PM2使用、内置对象、工程结构、框架集合"/>
<meta name="application-name" content="锦枫紫兰">
<meta name="apple-mobile-web-app-title" content="锦枫紫兰"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/post/js-nodejs/" /><link rel="prev" href="/post/%E8%BF%90%E7%BB%B4-8-kubernetes%E5%AE%9E%E6%88%98-%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BCservicemesh%E9%80%89%E6%8B%A9/" /><link rel="next" href="/post/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86-%E6%96%B9%E6%B3%95%E5%92%8C%E5%B7%A5%E5%85%B7-git-gitlab-cicd%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "NodeJS概览及开发框架",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/post\/js-nodejs\/"
        },"image": ["\/images\/Apple-Devices-Preview.webp"],"genre": "post","keywords": "NODEJS, JS","wordcount":  5500 ,
        "url": "\/post\/js-nodejs\/","datePublished": "2018-12-20T10:52:11+00:00","dateModified": "2018-12-20T10:52:11+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "\/images\/avatar.webp"},"author": {
                "@type": "Person",
                "name": "子兰"
            },"description": "安装、NPM命令、PM2使用、内置对象、工程结构、框架集合"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="锦枫紫兰">锦枫紫兰</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/post/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/about/" title="关于"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="锦枫紫兰">锦枫紫兰</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/post/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/about/" title="关于">关于</a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto" style="top:8rem;">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single special" data-toc="enable"><h2 class="single-title animated fadeInDown faster">NodeJS概览及开发框架</h2><div class="single-card" ><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>目录</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#安装">安装</a>
      <ul>
        <li><a href="#首先安装nvm">首先安装NVM</a>
          <ul>
            <li><a href="#ubuntu">Ubuntu</a></li>
            <li><a href="#win8及以上">(win8及以上)</a></li>
          </ul>
        </li>
        <li><a href="#然后安装node会自动安装npm">然后安装NODE(会自动安装npm)</a></li>
        <li><a href="#使用yarn替换npm">使用yarn替换npm</a></li>
        <li><a href="#安装cnmp完全替代nmp使用国外的项目不要使用cnpm尽量不用">安装cnmp完全替代nmp(使用国外的项目不要使用cnpm，尽量不用)</a></li>
        <li><a href="#问题">问题</a></li>
      </ul>
    </li>
    <li><a href="#npm和yarn使用">NPM和YARN使用</a>
      <ul>
        <li><a href="#命令">命令</a>
          <ul>
            <li><a href="#npx">npx</a>
              <ul>
                <li><a href="#项目的根目录下执行">项目的根目录下执行</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#packagejson">package.json</a></li>
        <li><a href="#npm问题">npm问题</a></li>
      </ul>
    </li>
    <li><a href="#pm2">PM2</a></li>
    <li><a href="#内置对象">内置对象</a>
      <ul>
        <li><a href="#processhttpjavascriptruanyifengcomnodejsprocesshtml"><a href="http://javascript.ruanyifeng.com/nodejs/process.html">process</a></a></li>
        <li><a href="#nodejs-eventemitterhttpwwwrunoobcomnodejsnodejs-eventhtml"><a href="http://www.runoob.com/nodejs/nodejs-event.html">Node.js EventEmitter</a></a></li>
        <li><a href="#http">http</a></li>
      </ul>
    </li>
    <li><a href="#nodejs工程">NODEJS工程</a>
      <ul>
        <li><a href="#开始">开始</a>
          <ul>
            <li><a href="#自定义npm-init行为">自定义npm init行为</a></li>
          </ul>
        </li>
        <li><a href="#目录结构">目录结构</a></li>
        <li><a href="#npm-install安装依赖"><code>npm install</code>安装依赖</a></li>
        <li><a href="#编写npm模块">编写npm模块</a>
          <ul>
            <li><a href="#私有registry">私有registry</a></li>
          </ul>
        </li>
        <li><a href="#最佳实践参考httpsjuejinimpost5ab3f77df265da2392364341heading-0">最佳实践<a href="https://juejin.im/post/5ab3f77df265da2392364341#heading-0">参考</a></a></li>
        <li><a href="#语义化版本控制">语义化版本控制</a></li>
      </ul>
    </li>
    <li><a href="#框架集合">框架集合</a>
      <ul>
        <li><a href="#expresshttpwwwexpressjscomcn----"><a href="http://www.expressjs.com.cn/">Express</a>    ***</a>
          <ul>
            <li><a href="#优点">优点</a></li>
            <li><a href="#缺点">缺点</a></li>
            <li><a href="#性能的最佳实践">性能的最佳实践</a></li>
            <li><a href="#安全的最佳实践httpwwwexpressjscomcnadvancedbest-practice-securityhtml"><a href="http://www.expressjs.com.cn/advanced/best-practice-security.html">安全的最佳实践</a></a></li>
          </ul>
        </li>
        <li><a href="#koahttpskoabootcsscom----"><a href="https://koa.bootcss.com/">KOA</a>    ***</a>
          <ul>
            <li><a href="#koa优点">KOA优点</a></li>
            <li><a href="#koa缺点">KOA缺点</a></li>
            <li><a href="#性能">性能</a></li>
            <li><a href="#安全">安全</a></li>
          </ul>
        </li>
        <li><a href="#sails---">Sails   ****</a></li>
        <li><a href="#loopback">[LoopBack]</a></li>
        <li><a href="#thinkjs----">[ThinkJS]    ****</a></li>
        <li><a href="#eggjs----">[Eggjs]    *****</a></li>
        <li><a href="#hapi">[Hapi]</a>
          <ul>
            <li><a href="#好处">好处</a></li>
            <li><a href="#hapi缺点">HAPI缺点</a></li>
            <li><a href="#hapi性能">HAPI性能</a></li>
            <li><a href="#hapi安全">HAPI安全</a></li>
          </ul>
        </li>
        <li><a href="#nesthttpsgithubcomnestjsnest"><a href="https://github.com/nestjs/nest">nest</a></a></li>
      </ul>
    </li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h2 id="安装">安装</h2>
<h3 id="首先安装nvm">首先安装NVM</h3>
<h4 id="ubuntu">Ubuntu</h4>
<ol>
<li>安装<a href="https://github.com/creationix/nvm" target="_blank" rel="noopener noreffer">nvm</a></li>
</ol>
<h4 id="win8及以上">(win8及以上)</h4>
<ol>
<li>安装<a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="noopener noreffer">nvm-windows</a></li>
<li>win8以下系统</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">在Windows的系统变量和用户变量中</span><span class="err">，</span><span class="nx">均添加NVM_HOME和NVM_SYMLINK这两个名称的变量</span><span class="err">，</span><span class="nx">前一个变量的值为nvm的安装路径</span><span class="err">，</span><span class="nx">如C</span><span class="o">:</span><span class="err">\</span><span class="nx">Dev</span><span class="err">\</span><span class="nx">nvm</span><span class="err">，</span><span class="nx">后一个变量的值为node</span><span class="p">.</span><span class="nx">js的安装路径</span><span class="err">，</span><span class="nx">如C</span><span class="o">:</span><span class="err">\</span><span class="nx">Dev</span><span class="err">\</span><span class="nx">nodejs</span><span class="err">。</span><span class="nx">除此之外</span><span class="err">，</span><span class="nx">还要确保系统变量PATH中</span><span class="err">，</span><span class="nx">有</span><span class="o">%</span><span class="nx">NVM_HOME</span><span class="o">%</span><span class="nx">和</span><span class="o">%</span><span class="nx">NVM_SYMLINK</span><span class="o">%</span><span class="nx">这两个值</span><span class="err">，</span><span class="nx">每个值的后面要加上英文的分号</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">node_mirror</span><span class="o">:</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//npm.taobao.org/mirrors/node/
</span><span class="c1"></span><span class="nx">npm_mirror</span><span class="o">:</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//npm.taobao.org/mirrors/npm/
</span></code></pre></td></tr></table>
</div>
</div><p>将上边两行放入settings.txt文件中。</p>
<h3 id="然后安装node会自动安装npm">然后安装NODE(会自动安装npm)</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">nvm</span> <span class="o">--</span><span class="nx">version</span>
<span class="nx">nvm</span> <span class="nx">install</span> <span class="mf">10.15.3</span>
<span class="nx">nvm</span> <span class="nx">use</span> <span class="mf">10.15.3</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 源管理
</span><span class="c1"></span><span class="nx">npm</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">g</span> <span class="nx">nrm</span>
<span class="nx">nrm</span> <span class="nx">list</span>
<span class="nx">nrm</span> <span class="nx">use</span> <span class="nx">taobao</span> <span class="c1">//尽量不适用taobao源
</span></code></pre></td></tr></table>
</div>
</div><p>注：windows还需安装<a href="https://github.com/nodejs/node-gyp#installation" target="_blank" rel="noopener noreffer">npm install -g node-gyp</a>和<a href="https://github.com/felixrieseberg/windows-build-tools" target="_blank" rel="noopener noreffer">npm install &ndash;global windows-build-tools</a></p>
<h3 id="使用yarn替换npm">使用yarn替换npm</h3>
<p><code>npm install yarn -g</code></p>
<p>或者<a href="https://yarnpkg.com/en/docs/install#debian-stable" target="_blank" rel="noopener noreffer">Installation</a></p>
<h3 id="安装cnmp完全替代nmp使用国外的项目不要使用cnpm尽量不用">安装cnmp完全替代nmp(使用国外的项目不要使用cnpm，尽量不用)</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">cnpm</span> <span class="o">-</span><span class="nx">g</span> <span class="o">--</span><span class="nx">registry</span><span class="o">=</span><span class="nx">https</span><span class="o">:</span><span class="c1">//registry.npm.taobao.org
</span></code></pre></td></tr></table>
</div>
</div><h3 id="问题">问题</h3>
<ol>
<li><a href="https://blog.csdn.net/gaoxuaiguoyi/article/details/80708815" target="_blank" rel="noopener noreffer">electron打包出现 Error: Unresolved node modules: vue</a></li>
</ol>
<h2 id="npm和yarn使用">NPM和YARN使用</h2>
<h3 id="命令">命令</h3>
<ol>
<li><a href="https://juejin.im/entry/590fcd02a22b9d0058036856" target="_blank" rel="noopener noreffer">npm - 参考手册</a></li>
</ol>
<table>
<thead>
<tr>
<th>NPM命令</th>
<th>选项</th>
<th>功能</th>
<th>YARN</th>
</tr>
</thead>
<tbody>
<tr>
<td>npm info</td>
<td>[name]</td>
<td>查看包所有的版本信息</td>
<td></td>
</tr>
<tr>
<td>npm ls</td>
<td>[name]</td>
<td>查看已安装的包的版本信息</td>
<td></td>
</tr>
<tr>
<td></td>
<td>[name] -g</td>
<td>查看全局安装的包的版本信息</td>
<td></td>
</tr>
<tr>
<td>npm view</td>
<td>[name] versions</td>
<td>查看包所有的版本信息</td>
<td></td>
</tr>
<tr>
<td></td>
<td>[name] version</td>
<td>查看包最新的版本信息</td>
<td></td>
</tr>
<tr>
<td>npm install -g</td>
<td>升级全局的本地包</td>
<td>yarn global add</td>
<td></td>
</tr>
<tr>
<td>npm update [name]</td>
<td>升级某一个包</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm install &ndash;unsafe-perm</td>
<td>设置为true以在运行程序包脚本时禁止UID / GID切换</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm install &ndash;save [&ndash;save-dev]</td>
<td>-S, &ndash;save: Package will appear in your dependencies;-D, &ndash;save-dev: Package will appear in your devDependencies;-O, &ndash;save-optional: Package will appear in your optionalDependencies.</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm install &ndash;production</td>
<td>添加了production  参数后将仅仅  安装  package.json 中dependencies 里面的包，不会安装devDependencies 里面的</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm audit</td>
<td>允许开发人员分析复杂的代码，并查明特定的漏洞和缺陷</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm audit fix</td>
<td>检测项目依赖中的漏洞并自动安装需要更新的有漏洞的依赖，而不必再自己进行跟踪和修复</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm audit fix &ndash;package-lock-only</td>
<td>运行audit fix，但是只更新pkglock， 不更新node_modules</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm audit fix &ndash;only=prod</td>
<td>只更新dependencies中安装的包，跳过devDependencies中的包</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm audit fix &ndash;dry-run &ndash;json</td>
<td>运行命令，得到audit fix将会更新的内容，并且输出json格式的安装信息，但是并不真的安装更新</td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm audit &ndash;json</td>
<td>得到json格式的详细检测报告</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">安装github工程</span>
<span class="nx">npm</span> <span class="nx">install</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//github.com/huixisheng/zepto-lazyload.git#branch
</span></code></pre></td></tr></table>
</div>
</div><h4 id="npx">npx</h4>
<p>参考<a href="http://www.ruanyifeng.com/blog/2019/02/npx.html" target="_blank" rel="noopener noreffer">npx 使用教程</a></p>
<ol>
<li>调用项目内部安装的模块.一般来说，调用 <code>Mocha</code> ，只能在项目脚本<code>node-modules/.bin/mocha --version</code>和 package.json 的scripts字段里面。<code>npx macha --version</code></li>
<li>原理很简单，就是运行的时候，会到node_modules/.bin路径和环境变量$PATH里面，检查命令是否存在。<code>也可以调用系统命令</code>。</li>
<li>除了调用项目内部模块，npx 还能避免全局安装的模块。</li>
<li>如果想让 npx 强制使用本地模块，不下载远程模块，可以使用&ndash;no-install参数。如果本地不存在该模块，就会报错。</li>
<li>如果忽略本地的同名模块，强制安装使用远程模块，可以使用&ndash;ignore-existing参数。</li>
<li>例: 当前目录起一个http服务。</li>
</ol>
<h5 id="项目的根目录下执行">项目的根目录下执行</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">node</span><span class="o">-</span><span class="nx">modules</span><span class="o">/</span><span class="p">.</span><span class="nx">bin</span><span class="o">/</span><span class="nx">mocha</span> <span class="o">--</span><span class="nx">version</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="packagejson">package.json</h3>
<ol>
<li>作为描述文件，描述你的项目依赖哪些包。</li>
<li>文件内容：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">    <span class="nx">name</span>              <span class="err">#</span> <span class="err">【</span><span class="nx">必须</span><span class="err">】</span>
    <span class="nx">version</span>           <span class="err">#</span> <span class="err">【</span><span class="nx">必须</span><span class="err">】</span>
    <span class="nx">description</span>       <span class="err">#</span> <span class="nx">描述信息</span><span class="err">，</span><span class="nx">有助于搜索</span>
    <span class="nx">main</span>              <span class="err">#</span> <span class="nx">入口文件</span><span class="err">，</span><span class="nx">一般都是</span> <span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
    <span class="nx">scripts</span>           <span class="err">#</span> <span class="nx">支持的脚本</span><span class="err">，</span><span class="nx">默认是一个空的</span> <span class="nx">test</span>
    <span class="nx">keywords</span>          <span class="err">#</span> <span class="nx">关键字</span><span class="err">，</span><span class="nx">有助于在人们使用</span> <span class="nx">npm</span> <span class="nx">search</span> <span class="nx">搜索时发现你的项目</span>
    <span class="nx">author</span>            <span class="err">#</span> <span class="nx">作者信息</span>
    <span class="nx">license</span>           <span class="err">#</span> <span class="nx">默认是</span> <span class="nx">MIT</span>
    <span class="nx">bugs</span>              <span class="err">#</span> <span class="nx">当前项目的一些错误信息</span><span class="err">，</span><span class="nx">如果有的话</span>
    <span class="nx">dependencies</span>      <span class="err">#</span> <span class="nx">是一个对象</span><span class="err">，</span><span class="nx">配置模块依赖的模块列表</span><span class="err">，</span><span class="nx">key是模块名称</span><span class="err">，</span><span class="nx">value是版本范围</span><span class="err">，</span><span class="nx">版本范围是一个字符</span><span class="err">，</span><span class="nx">可以被一个或多个空格分割</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="npm问题">npm问题</h3>
<ol>
<li><a href="https://newsn.net/say/sudo-npm-install-permission.html" target="_blank" rel="noopener noreffer">sudo npm install 时，报错 permission denied 的解决方案</a></li>
</ol>
<h2 id="pm2">PM2</h2>
<p>pm2是一个内置负载均衡的node.js应用进程管理器</p>
<p><code>npm install -g pm2</code></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>pm2 start server.js &ndash;name</td>
<td>启动一个应用，并指定名称</td>
</tr>
<tr>
<td>pm2 list</td>
<td>列出正在运行的应用</td>
</tr>
<tr>
<td>pm2 stop [id/name]</td>
<td>停止对应的应用</td>
</tr>
<tr>
<td>pm2 delete [name]</td>
<td>删除对应的应用</td>
</tr>
<tr>
<td>pm2 reload [name]</td>
<td>代码有更新，重载应用</td>
</tr>
<tr>
<td>pm2 restart [name]</td>
<td>重启应用</td>
</tr>
<tr>
<td>pm2 show [name]</td>
<td>查看相应的应用详情</td>
</tr>
</tbody>
</table>
<h2 id="内置对象">内置对象</h2>
<h3 id="processhttpjavascriptruanyifengcomnodejsprocesshtml"><a href="http://javascript.ruanyifeng.com/nodejs/process.html" target="_blank" rel="noopener noreffer">process</a></h3>
<ol>
<li>process对象是 Node 的一个全局对象，提供当前 Node 进程的信息。它可以在脚本的任意位置使用，不必通过require命令加载。该对象部署了EventEmitter接口。</li>
</ol>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>process.version</td>
<td>返回一个字符串，表示当前使用的 Node 版本，比如v7.10.0</td>
</tr>
<tr>
<td>process.env</td>
<td>获取系统环境变量</td>
</tr>
</tbody>
</table>
<h3 id="nodejs-eventemitterhttpwwwrunoobcomnodejsnodejs-eventhtml"><a href="http://www.runoob.com/nodejs/nodejs-event.html" target="_blank" rel="noopener noreffer">Node.js EventEmitter</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">创建一个模块</span>
<span class="kr">import</span> <span class="nx">EventEmitter</span> <span class="nx">from</span> <span class="s1">&#39;events&#39;</span><span class="p">;</span>
<span class="kr">class</span> <span class="nx">someThing</span> <span class="kr">extends</span> <span class="nx">EventEmitter</span><span class="p">{</span>
    <span class="nx">a</span><span class="o">=</span><span class="kc">null</span>
    <span class="nx">constructor</span> <span class="p">(){</span>
        <span class="c1">//初始化
</span><span class="c1"></span>        <span class="kr">super</span><span class="p">()</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">b</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="p">()=&gt;{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nx">method</span> <span class="p">(){</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kr">export</span> <span class="k">default</span> <span class="nx">someThing</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="http">http</h3>
<h2 id="nodejs工程">NODEJS工程</h2>
<h3 id="开始">开始</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">    <span class="nx">npm</span> <span class="nx">init</span>          <span class="err">#</span> <span class="nx">可在当前目录下创建一个package</span><span class="p">.</span><span class="nx">json文件</span>
    <span class="nx">npm</span> <span class="nx">init</span> <span class="o">--</span><span class="nx">yes</span>    <span class="err">#</span> <span class="nx">可跳过回答问题步骤</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="自定义npm-init行为">自定义npm init行为</h4>
<ol>
<li>参考<a href="https://juejin.im/post/5ab3f77df265da2392364341#heading-0" target="_blank" rel="noopener noreffer">2018 年了，你还是只会 npm install 吗？</a></li>
<li>定制 npm init 命令的实现方式也很简单，在 Home 目录创建一个 <code>.npm-init.js</code> 即可，该文件的 module.exports 即为 package.json 配置内容，需要获取用户输入时候，使用 prompt() 方法即可。</li>
<li>.npm-init.js 是一个常规的模块，意味着我们可以执行随便什么 node 脚本可以执行的任务。例如通过 fs 创建 README, .eslintrc 等项目必需文件，实现<code>项目脚手架</code>的作用。</li>
</ol>
<h3 id="目录结构">目录结构</h3>
<p>index.js
main
|&mdash;-config.js</p>
<h3 id="npm-install安装依赖"><code>npm install</code>安装依赖</h3>
<ol>
<li><code>npm install &lt;package&gt;</code> 除了简单的指定包名, package 还可以是一个指向有效包名的 <code>http url</code>、<code>git url</code>和<code>文件夹路径</code>。</li>
<li><a href="https://docs.npmjs.com/files/package.json#git-urls-as-dependencies" target="_blank" rel="noopener noreffer">npm支持的git url格式</a><code>&lt;protocol&gt;://[&lt;user&gt;[:&lt;password&gt;]@]&lt;hostname&gt;[:&lt;port&gt;][:][/]&lt;path&gt;[#&lt;commit-ish&gt; | #semver:&lt;semver&gt;]</code></li>
</ol>
<h3 id="编写npm模块">编写npm模块</h3>
<ol>
<li>初始化<code>npm init</code>；</li>
<li>创建入口文件;</li>
<li>在<code>src</code>中编写源代码。</li>
<li>在<code>examples</code>中编写示例。</li>
<li>通过.npmignore来在npm publish的时候，忽略自己不想要的文件。</li>
<li>放进git仓库中.</li>
<li><code>注意</code>:<a href="https://www.imooc.com/wenda/detail/409466" target="_blank" rel="noopener noreffer">使用module.exports导出模块，内部定义的函数之间如何相互调用</a>.第一种方法：所在文件就是一个模块，定义function之后，其作用域就是整个模块。最后再module.exports={}.第二种方法：若一开始就module.exports={}中写方法，不能用this,只能用exports。全局的this就是module.exports.</li>
<li><code>注意</code>:<a href="https://gywbd.github.io/posts/2014/11/using-exports-nodejs-interface-design-pattern.html" target="_blank" rel="noopener noreffer">exports的用法:Node.js模块的接口设计模式</a></li>
</ol>
<h4 id="私有registry">私有registry</h4>
<ol>
<li>将自己的私有模块放在私有registry中。</li>
<li><a href="https://verdaccio.org/" target="_blank" rel="noopener noreffer">Verdaccio:A lightweight open source private npm proxy registry</a>。</li>
<li>可使用docker安装。</li>
</ol>
<h3 id="最佳实践参考httpsjuejinimpost5ab3f77df265da2392364341heading-0">最佳实践<a href="https://juejin.im/post/5ab3f77df265da2392364341#heading-0" target="_blank" rel="noopener noreffer">参考</a></h3>
<ol>
<li>使用 <code>npm: &gt;=5.1</code> 版本, 保持 package-lock.json 文件默认开启配置</li>
<li>初始化：第一作者初始化项目时使用 <code>npm install &lt;package&gt;</code> 安装依赖包, 默认保存 ^X.Y.Z 依赖 range 到 package.json中; 提交 package.json, package-lock.json, 不要提交 node_modules 目录</li>
<li>初始化：项目成员首次 checkout/clone 项目代码后，执行一次 npm install 安装依赖包</li>
<li>不要手动修改 package-lock.json</li>
<li>升级依赖包:
升级小版本: 本地执行 npm update 升级到新的小版本
升级大版本: 本地执行 <code>npm install &lt;package-name&gt;@&lt;version&gt;</code> 升级到新的大版本
也可手动修改 package.json 中版本号为要升级的版本(大于现有版本号)并指定所需的 semver, 然后执行 npm install
本地验证升级后新版本无问题后，提交新的 package.json, package-lock.json 文件</li>
<li>降级依赖包:
正确: <code>npm install &lt;package-name&gt;@&lt;old-version&gt;</code> 验证无问题后，提交 package.json 和 package-lock.json 文件
错误: 手动修改 package.json 中的版本号为更低版本的 semver, 这样修改并不会生效，因为再次执行 npm install 依然会安装 package-lock.json 中的锁定版本</li>
<li>删除依赖包:
Plan A: <code>npm uninstall &lt;package&gt;</code> 并提交 package.json 和 package-lock.json
Plan B: 把要卸载的包从 package.json 中 dependencies 字段删除, 然后执行 npm install 并提交 package.json 和 package-lock.json</li>
<li>任何时候有人提交了 package.json, package-lock.json 更新后，团队其他成员应在 svn update/git pull 拉取更新后执行 npm install 脚本安装更新后的依赖包</li>
</ol>
<h3 id="语义化版本控制">语义化版本控制</h3>
<ol>
<li>官方文档适用于任何软件管理<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreffer">语义化版本 2.0.0</a></li>
<li><a href="https://segmentfault.com/a/1190000018714929" target="_blank" rel="noopener noreffer">npm 语义化版本控制</a></li>
</ol>
<h2 id="框架集合">框架集合</h2>
<p>查看流行框架，参考<a href="http://nodeframework.com/" target="_blank" rel="noopener noreffer">nodeframework</a></p>
<h3 id="expresshttpwwwexpressjscomcn----"><a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener noreffer">Express</a>    ***</h3>
<ol>
<li>Express是一个最小且灵活的Web应用程序框架，为Web和移动应用程序提供了一组强大的功能，它的行为就像一个中间件，可以帮助管理服务器和路由.</li>
<li>express可能是Node.js最流行的框架，还有许多其他流行的框架都是基于Express构建的。</li>
<li>个人评价，express适合小型项目，不适合大型企业级项目，个人用用还可以，做为快速入门是个很好的选择，用过之后就可以考虑进入 koa 框架的道路.</li>
</ol>
<h4 id="优点">优点</h4>
<ul>
<li>几乎是Node.js Web中间件的标准.</li>
<li>简单，简约，灵活和可扩展.</li>
<li>快速开发应用程序.</li>
<li>完全可定制.</li>
<li>学习曲线低.</li>
<li>轻松集成第三方服务和中间件.</li>
<li>主要关注浏览器，模板和渲染集成开箱即用</li>
</ul>
<h4 id="缺点">缺点</h4>
<ul>
<li>组织需要非常清楚，以避免在维护代码时出现问题</li>
<li>随着代码库大小的增加，重构变得非常具有挑战性</li>
<li>需要大量的手工劳动，因为您需要创建所有端点.</li>
</ul>
<h4 id="性能的最佳实践">性能的最佳实践</h4>
<ol>
<li>使用gzip压缩</li>
<li>不要使用同步功能</li>
<li>正确记录（用于调试，使用特殊模块，如调试，应用程序活动使用winston或bunyan）</li>
<li>使用try-catch或promises正确处理异常</li>
<li>确保您的应用程序使用流程管理器自动重新启动，或使用systemd或upstartinit等系统</li>
<li>在群集中运行您的应用。您可以通过启动进程集群来大大提高Node.js应用程序的性能</li>
<li>缓存请求结果，以便您的应用不会重复操作以反复提供相同的请求</li>
<li>使用负载均衡器运行它的多个实例并分配流量，如Nginx或HAProxy</li>
<li>对静态资源使用反向代理。它可以处理错误页面，压缩，缓存，提供文件和负载平衡等</li>
<li>更多<a href="http://www.expressjs.com.cn/advanced/best-practice-performance.html" target="_blank" rel="noopener noreffer">性能最佳实践</a>.</li>
</ol>
<h4 id="安全的最佳实践httpwwwexpressjscomcnadvancedbest-practice-securityhtml"><a href="http://www.expressjs.com.cn/advanced/best-practice-security.html" target="_blank" rel="noopener noreffer">安全的最佳实践</a></h4>
<h3 id="koahttpskoabootcsscom----"><a href="https://koa.bootcss.com/" target="_blank" rel="noopener noreffer">KOA</a>    ***</h3>
<ol>
<li>Koa 是一个新的 web 框架，由 Express幕后的原班人马打造，致力于成为web应用和API开发领域中的一个更小、更富有表现力、更健壮的基石。</li>
<li>通过利用 async 函数，Koa帮你丢弃回调函数，并有力地增强错误处理.</li>
<li>Koa并没有捆绑任何中间件而是提供了一套优雅的方法，帮助您快速而愉快地编写服务端应用程序</li>
</ol>
<h4 id="koa优点">KOA优点</h4>
<ol>
<li>Koa提高了互操作性，健壮性，使编写中间件变得更加愉快。</li>
<li>集成了大量的web API，但是没有绑定中间件</li>
<li>非常轻量，核心的Koa模块只有大约2K行代码</li>
<li>拥有非常好的用户体验</li>
<li>通过try / catch更好地处理错误</li>
<li>异步控制流，代码可读性更高</li>
</ol>
<h4 id="koa缺点">KOA缺点</h4>
<ol>
<li>Koa社区相对较小</li>
<li>与Express风格的中间件不兼容(目前还有遇到与其他框架兼容的中间件)</li>
</ol>
<h4 id="性能">性能</h4>
<ol>
<li>Koa本身是一个非常轻量级的框架,可以构建具有出色性能的Web应用程序。代码可读性和维护性都相对较高</li>
<li>当然一些性能的最佳实践也是必不可少的，例如：</li>
<li>集群</li>
<li>并行运行</li>
<li>在代码中使用异步API</li>
<li>保持代码小而轻</li>
<li>以及使用gzip压缩 等等</li>
</ol>
<h4 id="安全">安全</h4>
<ol>
<li>Koa有大量的中间件，提供相应的功能.</li>
</ol>
<h3 id="sails---">Sails   ****</h3>
<ol>
<li>企业级框架</li>
<li>Sails 是基于 exrpess 的<code>大而全</code>的框架，MVC框架，旨在模拟熟悉的Ruby on Rails框架的MVC模式，但支持现代应用程序的需求。</li>
<li>捆绑了一个<code>强大的ORM</code>，即Waterline。自动生成的REST API.</li>
</ol>
<h3 id="loopback">[LoopBack]</h3>
<ol>
<li>建立在 Express 基础上的企业级 Node.js 框架，只需编写少量代码就能创建动态端到端的 REST API，一致化的模型关系和对 API 访问的权限控制.</li>
</ol>
<h3 id="thinkjs----">[ThinkJS]    ****</h3>
<ol>
<li>是国内360团队推出的一款面向未来开发的 Node.js 框架，整合了大量的项目最佳实践，让企业级开发变得如此简单、高效。框架底层基于 Koa 2.x 实现，兼容 Koa 的所有功能.</li>
</ol>
<h3 id="eggjs----">[Eggjs]    *****</h3>
<ol>
<li>是《阿里旗下产品》基于Node.js 和 Koa的一个Nodejs的企业级应用开发框架，它可以帮助开发团队及开发人员降低开发和维护成本。</li>
<li>Egg.js则是按照约定进行开发，奉行『约定优于配置』，具备提供基于Egg定制上层框架的能力、</li>
<li>高度可扩展的插件机制、内置多进程管理、基于Koa开发，性能优异、框架稳定，测试覆盖率高、渐进式开发、开发成本和维护成本低等特点。</li>
</ol>
<h3 id="hapi">[Hapi]</h3>
<ol>
<li>Hapi是基础功能相对丰富的框架。开发人员更专注于业务，而不是花时间构建基础架构。</li>
<li>配置驱动的模式，区别于传统的web服务器操作。</li>
<li>他还有比一个独特功能，能够在特定的IP上创建服务器，具有类似的功能onPreHandler。再需要的时候你可以拦截特地的请求做一些必要的操作</li>
</ol>
<h4 id="好处">好处</h4>
<ul>
<li>提供了一个强大的插件系统，允许您快速添加新功能和修复错误</li>
<li>可扩展的API</li>
<li>对请求处理有更深层次的控制。</li>
<li><code>创建(REST)api的最佳选择，提供了路由、输入、输出验证和缓存</code></li>
<li>一次编写适配各端</li>
<li>详细的API参考和对文档生成的良好支持</li>
<li>与任何前端框架（如React，Angular和Vue.js）一起使用来创建单页面应用程序</li>
<li>基于配置的伪中间件</li>
<li>提供缓存，身份验证和输入验证</li>
<li>提供基于插件的扩展架构</li>
<li>提供非常好的企业插件，如joi，yar，catbox，boom，tv和travelogue</li>
</ul>
<h4 id="hapi缺点">HAPI缺点</h4>
<ul>
<li>代码结构复杂</li>
<li>插件不兼容，只能使用指定的插件如：catbox joi boom tv good travelogue等</li>
<li>端点是手动创建的，必须手动测试</li>
<li>重构是手动的</li>
</ul>
<h4 id="hapi性能">HAPI性能</h4>
<ol>
<li>2017年对Node框架的研究表明hapi相对于其他框架的表现最差</li>
</ol>
<h4 id="hapi安全">HAPI安全</h4>
<ol>
<li>hapi安全性主要依赖于插件</li>
<li>插件选择</li>
</ol>
<ul>
<li>Crumb反（XCSRF）验证插件。它适用于常规请求和CORS请求</li>
<li>Joi：JavaScript对象的对象模式描述语言和验证器</li>
<li>Hapi-rbac 用户的访问权限控制</li>
<li>Blankie 足够灵活的白名单作机制</li>
<li>Cryptiles 加密库</li>
</ul>
<h3 id="nesthttpsgithubcomnestjsnest"><a href="https://github.com/nestjs/nest" target="_blank" rel="noopener noreffer">nest</a></h3>
<ol>
<li>Nest是构建高效，可扩展的 Node.js Web 应用程序的框架。 它使用现代的 JavaScript 或 TypeScript（保留与纯 JavaScript 的兼容性），并结合 OOP（面向对象编程），FP（函数式编程）和FRP（函数响应式编程）的元素。</li>
<li>在底层，Nest 使用了 Express，但也提供了与其他各种库的兼容，例如Fastify，可以方便地使用各种可用的第三方插件。</li>
<li>近几年，由于 Node.js，JavaScript 已经成为 Web 前端和后端应用程序的「通用语言」，从而产生了像Angular、React、Vue等令人耳目一新的项目，这些项目提高了开发人员的生产力，使得可以快速构建可测试的且可扩展的前端应用程序。 然而，在服务器端，虽然有很多优秀的库、helper 和 Node 工具，但是它们都没有有效地解决主要问题 - 架构。</li>
<li>Nest 旨在提供一个开箱即用的应用程序体系结构，允许轻松创建高度可测试，可扩展，松散耦合且易于维护的应用程序。</li>
<li>面向 AOP 编程</li>
<li>支持 typeorm</li>
<li>Node.js 版的 spring</li>
<li>构建微服务应用</li>
</ol>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/nodejs/">NODEJS</a>
                </span><span><a href="/tags/js/">JS</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>更新于 2018-12-20</span>
            </div><div class="post-info-mod"></div>
        </div></div><div class="post-nav"><a href="/post/%E8%BF%90%E7%BB%B4-8-kubernetes%E5%AE%9E%E6%88%98-%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BCservicemesh%E9%80%89%E6%8B%A9/" class="prev" rel="prev" title="Kubernetes-服务网格"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/post/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86-%E6%96%B9%E6%B3%95%E5%92%8C%E5%B7%A5%E5%85%B7-git-gitlab-cicd%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F/" class="next" rel="next" title="使用GitLab CI/CD创建Docker镜像">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.0"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/">子兰</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.css"><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.8.5/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/mhchem.min.js"></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"Style-sen/hugoblogtalks"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"HM4MCKQ8J3","algoliaIndex":"blog_hugo","algoliaSearchKey":"745772944fb8af8e9fedec85d62d1a07","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script src="/js/themes.min.js"></script></body>
</html>
