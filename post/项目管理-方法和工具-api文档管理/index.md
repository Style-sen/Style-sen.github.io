# API文档服务器


参考[[原创]基于VueJs的前后端分离框架搭建之完全攻略](https://www.cnblogs.com/leotsai/p/vuejs-front-backend-architecture.html)

## 1. API概述



## 2. 重要性

1. API文档服务器就是专门用来生成API文档的。有了API文档，前端开发人员就可以基于API文档产生模拟数据（mock），然后使用mock的数据完成页面样式和页面交互；有了API文档，后端开发人员就可以基于API文档完成请求的处理以及返回响应数据。

2. API文档服务器（通常为WEB服务器）是一个可以动态生成最新版本API文档的服务器，并支持本地维护+远程访问。


软件开发流程中的几个关键环节：
（1）产品经理提需求，画原型；
（2）UI设计师根据原型出设计图；
（3）测试团队根据产品原型编写测试用例，制定测试计划；
（4）架构师根据原型编写API文档；
（5）前后端工程师基于API文档完成业务开发；
（6）测试、改BUG、发布。

swagger之不够完美的地方：
（1）通过swagger生成的API文档看不见版本修改记录，你不知道什么时候后端开发人员悄悄改了下API文档而忘记/有意不通知前端开发人员，这样的锅前端背了太多；
（2）接口文档由后端开发人员编写，前端开发人员的地位实际上比后端的低，并且前端开发人员仍然会经常找后端开发人员沟通修改API文档（强依赖仍然存在）；
（3）本来swagger的API定义应该由架构师或项目经理编写，但由于后端开发人员可以直接改文档，这导致的实际效果就是：基本上API文档都直接由开发人员编写（或修改），其质量水平很难达到期望；
（4）swagger生成API文档的类的定义可能是多层引用关联的，但是这个类又太容易被开发人员修改到，或者不小心改到，如果开发人员忘记通知前端或者只通知了部分改动，那就会造成严重的问题；
（5）使用swagger的语法来编写API文档，其实还是很麻烦的，我们希望这个语法能够超级简单；
（6）swagger会污染你的代码。

wagger的这些缺点其实综合来讲，其主要的问题就在于它让API编写/修改太过容易，让软件开发过程和管理过程太容易出错。如果你们团队建立了严格的管理机制，那还是可以将swagger用的很和谐的，但这不是笔者，作为一个架构师，可以撇开责任的理由。

如何让开发人员更不容易写出错误的代码是评价一个架构师能力的重要标准。

`笔者在写代码或做架构的时候有一个思维习惯，就是不管某个问题多么复杂具体解决方案是什么，我会先去想想这个问题的最佳的处理方式应该是什么样子，然后再去想这些最佳的处理方式哪些可以实现，哪些实现不了而只能用次一点的方案，然后次一点的方案是否可以接受。`

## 3. API工具

### 3.1. [Apifox](https://www.apifox.cn/)******

1. Apifox = Postman + Swagger + Mock
2. 接口文档、调试、Mock、自动化测试，提升 10 倍效率！

### 3.2. POSTMAN工具

| 优点 | 缺点                     |
| ---- | ------------------------ |
|      | 只有在线版，不能私有部署 |

### 3.3. rap2

1. [非官方rap2-delos部署文档](https://github.com/thx/rap2-delos/issues/119)
2. [阿里妈妈前端团队出品的开源接口管理工具RAP第二代后端](https://github.com/thx/rap2-delos)
3. [RAP2前端](https://github.com/thx/rap2-dolores)

| 优点                 | 缺点 |
| -------------------- | ---- |
| 可以导出postman文件  |      |
| 支持自动生成mock数据 |      |

### 3.4. [Showdoc](https://www.showdoc.cc/)

| 优点         | 缺点                         |
| ------------ | ---------------------------- |
| 可以权限管理 | 版本控制不完善，需要手动添加 |
| 可以私有部署 |                              |

### 3.5. [Crapapi](https://crap.cn/)

| 优点     | 缺点 |
| -------- | ---- |
| 接口     |      |
| 文档     |      |
| 数据库表 |      |
| BUG管理  |      |
| 附件     |      |
| 团队协作 |      |

### 3.6. [apiDoc](http://apidocjs.com/)

creates a documentation from API annotations in your source code
