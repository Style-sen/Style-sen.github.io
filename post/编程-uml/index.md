# 编码-UML


## 概述

1. UML 是一种为面向对象开发系统的产品进行说明、可视化、和编制文档的标准语言。
2. UML 中最重要的建模元素是符号。
3. 适当有效地使用符号对于一个完整的，有意义的模型来说是非常重要的。如果一个模型的目的无法正确的描绘，那么该模型是无用的。
4. 在开始学习 UML 的时候就要强调表示法的重要性，不同的符号可用于表示物件和关系。
5. 可扩展性是 UML 的另一个重要的特点，这使得UML更加强大和灵活。
6. UML 的核心是图表，大致可以将这些图归类为结构图和行为图。
* 结构图是由静态图，如类图，对象图等静态图；
* 行为图是由像序列图，协作图等动态图；

## UML 概念模型

1. 掌握 UML 概念模型可以通过学习以下三大要素达到：
* UML构建模块
* 规则连接构建模块
* UML公共机制

2. 一个对象中包含了数据和(控制数据)的方法，其中数据表示对象的状态.
3. 对象是现实世界的实体存在我们周围像抽象，封装，继承，多态的基本概念，都可以使用UML表示。
4. 以下是一些面向对象基本概念：
* 对象: 对象代表一个实体的基本构建块.
* 类: 类是对象的蓝图.
* 抽象化: 抽象代表现实世界中实体的行为.
* 封装: 封装是将数据绑定在一起，并隐藏他们外部世界的机制。
* 继承: 继承是从现有的机制作出新的类。
* 多态性: 定义的机制来以不同的形式存在.

## 图表

### UML 类图:
1. 展现了一组`对象`、`接口`、`协作`和`它们之间的关系`。类图描述的是一种静态关系，在系统的整个生命周期都是有效的，是面向对象系统的建模中最常见的图。
2. 能够让我们在正确编写代码以前对系统有一个全面的认识。
3. 在UML类图中，常见的有以下几种关系:泛化（Generalization）, 实现（Realization）,关联（Association）,聚合（Aggregation）,组合(Composition)，依赖(Dependency)：
* 泛化(generalization)：表示is-a的关系，是对象之间耦合度最大的一种关系，子类继承父类的所有细节。直接使用语言中的继承表达。在类图中使用`带三角箭头的实线`表示，箭头从子类指向父类。
* 实现：是一种类与接口的关系，表示类是接口所有特征和行为的实现。在类图中使用`带三角箭头的虚线`表示，箭头从实现类指向接口。
* 关联：可以是双向的，也可以是单向的。`双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头`。对象之间一种`引用关系`，比如客户类与订单类之间的关系。这种关系通常使用类的属性表达。即我们代码中成员类变量的关系。箭头指向成员类。
* 聚合：他体现的是整体与部分拥有的关系，即has-a的关系，此时整体与部分之间是可分离的，他们可以具有各自的生命周期，部分可以属于多个整体对象，也可以为多个整体对象共享；比如计算机与CPU、汽车和轮胎；表现在代码层面上，和单向关联关系是一致的，只能从语义级别来区分， `在类图使用空心的菱形表示，菱形表示整体`； 
* 组合：是整体与部分的关系, 但部分不能离开整体而单独存在.他体现的是一种contains-a的关系， 如公司和部门是整体和部分的关系, 没有公司就不存在部门，这种关系比聚合更强，也称为强聚合；整体的生命周期结束也就意味着部分的生命周期结束； `用带实心菱形的实线表示，菱形指向整体`.
* 依赖：对于两个相对独立的对象，当一个对象负责构造另一个对象的实例，或者依赖另一个对象的服务时，这两个对象之间主要体现为依赖关系。与关联关系不同的是，`依赖关系是以参数变量的形式传入到依赖类中的，依赖是单向的，要避免双向依赖`。一般来说，不应该存在双向依赖。依赖是一种弱关联，只要一个类用到另一个类，但是和另一个类的关系不是太明显的时候（可以说是“uses”了那个类），就可以把这种关系看成是依赖。 【代码表现】：局部变量、方法的参数或者对静态方法的调用
4. 一个完整的类图一般包括3个基本组件：类名、属性、方法。

### UML 对象图：
对象图是类图的一个实例。因此，一类图的基本要素是类似的。对象图是由对象和链接。在一个特定的时刻，它捕获该系统的实例。

对象图用于原型设计，逆向工程和实际场景建模。

### UML 组件图：
组件图是一种特殊的UML图来描述系统的静态实现视图。组件图包括物理组件，如库，档案，文件夹等。

此图是用来从实施的角度。使用一个以上的元件图来表示整个系统。正向和逆向工程技术的使用，使可执行文件组件图。

### UML 部署图：
组件图是用来描述一个系统的静态部署视图。这些图主要用于系统工程师。

部署图是由节点和它们之间的关系。一个高效的部署图是应用软件开发的一个组成部分。

### UML 用例图:
用例图是从用户角度描述系统功能，并指出各功能的操作者，用来捕捉系统的动态性质。

一个高层次的设计用例图是用来捕捉系统的要求，因此它代表系统的功能和流向。虽然用例图的正向和反向工程是不是一个很好的选择，但他们仍然在一个稍微不同的方法来模拟它。

### UML 交互图：
交互图，用于捕获系统的动态性质。

交互图包括序列图和协作图，其中：序列图显示对象之间的动态合作关系，它强调对象之间消息发送的顺序，同时显示对象之间的交互；协作图描述对象间的协作关系，协作图跟时序图相似，显示对象间的动态合作关系。

### UML 状态图：
状态图是一个用于模拟系统的动态性质的五个图。这些图用来模拟一个对象的整个生命周期。

一个对象的状态被定义为对象所在的条件下，特定的时间和对象移动对其他状态，在某些事件发生时。状态图还用于正向和反向工程。

状态图着重描述从一个状态到另一个状态的流程，主要有外部事件的参与。

### UML 活动图：
活动图是 UML 的动态模型的一种图形，一般用来描述相关用例图，活动图是一种特殊的状态图。
准确的活动图定义：活动图描述满足用例要求所要进行的活动以及活动间的约束关系，有利于识别并行活动。活动图是一种特殊的状态图，它对于系统的功能建模特别重要，强调对象间的控制流程。

## 作图工具

### [draw.io](https://www.draw.io/)

## 具体实现

1. 首先画出类图，确定对象（属性、方法、关系）。
2. 在业务逻辑层，创建对象方法，更改对象状态。
3. 数据库设计，创建对象属性，分为两类：状态类、历史类，一一对应。
