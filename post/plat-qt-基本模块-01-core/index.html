<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>PLAT QT 基本模块 01 CORE - 锦枫紫兰</title><meta name="description" content="锦枫紫兰"><meta property="og:title" content="PLAT QT 基本模块 01 CORE" />
<meta property="og:description" content="1. 设计要点 提供了强大的signals and slots机制,用于对象之间的无缝通讯。 可查询和可设计的对象属性。 对象树。 受保护的指针。 跨库边界的动态" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-01-core/" />
<meta property="og:image" content="/logo.png"/>
<meta property="article:published_time" content="2021-09-18T14:06:15+08:00" />
<meta property="article:modified_time" content="2021-09-18T14:06:15+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/logo.png"/>

<meta name="twitter:title" content="PLAT QT 基本模块 01 CORE"/>
<meta name="twitter:description" content="1. 设计要点 提供了强大的signals and slots机制,用于对象之间的无缝通讯。 可查询和可设计的对象属性。 对象树。 受保护的指针。 跨库边界的动态"/>
<meta name="application-name" content="锦枫紫兰">
<meta name="apple-mobile-web-app-title" content="锦枫紫兰"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="/post/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-01-core/" /><link rel="prev" href="/post/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-03-gui/" /><link rel="next" href="/post/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-04-network/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "PLAT QT 基本模块 01 CORE",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/post\/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-01-core\/"
        },"image": ["\/images\/Apple-Devices-Preview.webp"],"genre": "post","keywords": "PLAT, QT","wordcount":  3633 ,
        "url": "\/post\/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-01-core\/","datePublished": "2021-09-18T14:06:15+08:00","dateModified": "2021-09-18T14:06:15+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "\/images\/avatar.webp"},"author": {
                "@type": "Person",
                "name": "子兰"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="锦枫紫兰">锦枫紫兰</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/post/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/about/" title="关于"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="锦枫紫兰">锦枫紫兰</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/post/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/about/" title="关于">关于</a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto" style="top:8rem;">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single special" data-toc="enable"><h2 class="single-title animated fadeInDown faster">PLAT QT 基本模块 01 CORE</h2><div class="single-card" ><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>目录</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-设计要点">1. 设计要点</a></li>
    <li><a href="#2-枚举值">2. 枚举值</a></li>
    <li><a href="#3-qabstractitemmodelitem-model抽象接口">3. QAbstractItemModel(item model)抽象接口</a></li>
    <li><a href="#4-qabstracttablemodel表模型提供抽象结构">4. QAbstractTableModel表模型提供抽象结构</a></li>
    <li><a href="#5-qbytearray字节数组">5. QByteArray字节数组</a></li>
    <li><a href="#6-qcoreapplication提供了一个事件循环">6. QCoreApplication提供了一个事件循环</a></li>
    <li><a href="#7-qdatetime">7. QDateTime</a></li>
    <li><a href="#8-qdebug-提供一个debug信息的输出流">8. QDebug 提供一个debug信息的输出流</a></li>
    <li><a href="#9-qdir">9. QDir</a></li>
    <li><a href="#10-qevent事件类的基类">10. QEvent事件类的基类</a></li>
    <li><a href="#11-qfile-继承自-qfiledevice">11. QFile 继承自 QFileDevice</a></li>
    <li><a href="#12-qfiledevice">12. QFileDevice</a></li>
    <li><a href="#13-qhash字典">13. QHash字典</a></li>
    <li><a href="#14-qiodevice所有io设备的基础接口类">14. QIODevice所有I/O设备的基础接口类</a></li>
    <li><a href="#15-qitemselectionmodel跟踪一个视图选择的项目">15. QItemSelectionModel跟踪一个视图选择的项目</a></li>
    <li><a href="#16-qjsonarray">16. QJsonArray</a></li>
    <li><a href="#17-qjsonobject-json">17. QJsonObject json</a></li>
    <li><a href="#18-qlinkedlist链表">18. QLinkedList链表</a></li>
    <li><a href="#19-qlist列表">19. QList列表</a></li>
    <li><a href="#20-qmap-红黑树的字典">20. QMap 红黑树的字典</a></li>
    <li><a href="#21-qmodelindex在数据模型中定位数据">21. QModelIndex在数据模型中定位数据</a></li>
    <li><a href="#22-qobject所有qt类的基类">22. <code>QObject</code>【所有Qt类的基类】</a></li>
    <li><a href="#23-qstringqt内部的编码方式-unicode-utf-16">23. QString（QT内部的编码方式 Unicode (utf-16)）</a></li>
    <li><a href="#24-qstringlist">24. QStringList</a></li>
    <li><a href="#25-qtextcodec编码类">25. QTextCodec编码类</a></li>
    <li><a href="#26-qthread多线程">26. QThread多线程</a></li>
    <li><a href="#27-qtime时钟时间">27. QTime时钟时间</a></li>
    <li><a href="#28-qtimer">28. QTimer</a></li>
    <li><a href="#29-qtimerevent定时事件">29. QTimerEvent定时事件</a></li>
    <li><a href="#30-qvariant通用数据类型的封装容器">30. QVariant通用数据类型的封装容器</a></li>
    <li><a href="#31-qvarlengtharray低级变长数组">31. QVarLengthArray低级变长数组</a></li>
    <li><a href="#32-qvector动态数组">32. QVector动态数组</a></li>
    <li><a href="#33-qxmlstreamreader">33. QXmlStreamReader</a></li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h2 id="1-设计要点">1. 设计要点</h2>
<ol>
<li>提供了强大的<code>signals and slots</code>机制,用于对象之间的无缝通讯。</li>
<li>可查询和可设计的对象属性。</li>
<li>对象树。</li>
<li>受保护的指针。</li>
<li>跨库边界的动态转换。</li>
</ol>
<h2 id="2-枚举值">2. 枚举值</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//enum Qt::CheckState
</span><span class="c1"></span><span class="n">Qt</span><span class="o">::</span><span class="n">Unchecked</span>   <span class="c1">//不选
</span><span class="c1"></span><span class="n">Qt</span><span class="o">::</span><span class="n">PartiallyChecked</span>    <span class="c1">//半选
</span><span class="c1"></span><span class="n">Qt</span><span class="o">::</span><span class="n">Checked</span>     <span class="c1">//选择
</span><span class="c1">//enum Qt::ItemDataRole
</span><span class="c1"></span><span class="n">Qt</span><span class="o">::</span><span class="n">CheckStateRole</span>  <span class="c1">//10 获取选中状态
</span><span class="c1">//enum Qt::ItemFlag
</span><span class="c1"></span><span class="n">Qt</span><span class="o">::</span><span class="n">ItemIsUserCheckable</span> <span class="c1">//16 可以被用户选中或不选
</span><span class="c1"></span><span class="n">Qt</span><span class="o">::</span><span class="n">SplitBehavior</span><span class="c1">//Qt::KeepEmptyParts|Qt::SkipEmptyParts
</span></code></pre></td></tr></table>
</div>
</div><h2 id="3-qabstractitemmodelitem-model抽象接口">3. QAbstractItemModel(item model)抽象接口</h2>
<ol>
<li>继承自<code>QObject</code>;</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">// virtual
</span><span class="c1"></span><span class="n">data</span><span class="p">(</span><span class="k">const</span> <span class="n">QModelIndex</span> <span class="o">&amp;</span><span class="n">index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">role</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">DisplayRole</span><span class="p">)</span> <span class="k">const</span>    <span class="c1">//获取给定role的data；【渲染的时候调用】
</span><span class="c1"></span><span class="n">flags</span><span class="p">(</span><span class="k">const</span> <span class="n">QModelIndex</span> <span class="o">&amp;</span><span class="n">index</span><span class="p">)</span> <span class="k">const</span>   <span class="c1">//返回index指定的item的flags，基类实现ItemIsEnabled和ItemIsSelectable【可以重写返回其他flags】
</span><span class="c1"></span><span class="n">setData</span><span class="p">(</span><span class="k">const</span> <span class="n">QModelIndex</span> <span class="o">&amp;</span><span class="n">index</span><span class="p">,</span> <span class="k">const</span> <span class="n">QVariant</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="kt">int</span> <span class="n">role</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">EditRole</span><span class="p">)</span>   <span class="c1">//设置给定role的data【界面修改的时候调用】
</span></code></pre></td></tr></table>
</div>
</div><h2 id="4-qabstracttablemodel表模型提供抽象结构">4. QAbstractTableModel表模型提供抽象结构</h2>
<ol>
<li>继承自<code>QAbstractItemModel</code>;</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//virtual
</span><span class="c1"></span><span class="n">flags</span><span class="p">(</span><span class="k">const</span> <span class="n">QModelIndex</span> <span class="o">&amp;</span><span class="n">index</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="5-qbytearray字节数组">5. QByteArray字节数组</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//实例方法
</span><span class="c1"></span><span class="n">split</span><span class="p">()</span><span class="c1">//以某个字符分割
</span><span class="c1"></span>
</code></pre></td></tr></table>
</div>
</div><h2 id="6-qcoreapplication提供了一个事件循环">6. QCoreApplication提供了一个事件循环</h2>
<h2 id="7-qdatetime">7. QDateTime</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//static方法
</span><span class="c1"></span><span class="n">currentDateTime</span><span class="p">()</span><span class="c1">//本地时间
</span><span class="c1"></span><span class="n">fromString</span><span class="p">()</span><span class="c1">//从QString中获取时间，如hh:mm:ss.zzz
</span><span class="c1">//实例方法
</span><span class="c1"></span><span class="n">toMSecsSinceEpoch</span><span class="p">()</span><span class="c1">//获取毫秒数
</span><span class="c1"></span><span class="n">toTime_t</span><span class="p">()</span><span class="c1">//被废弃，尽量不要用 +/1000 【会出问题】。 
</span></code></pre></td></tr></table>
</div>
</div><h2 id="8-qdebug-提供一个debug信息的输出流">8. QDebug 提供一个debug信息的输出流</h2>
<h2 id="9-qdir">9. QDir</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="cm">/*实例方法*/</span>
<span class="n">exists</span><span class="p">()</span> <span class="c1">// 判断文件夹是否存在
</span><span class="c1"></span><span class="n">mkdir</span><span class="p">()</span>  <span class="c1">// 创建目录
</span></code></pre></td></tr></table>
</div>
</div><h2 id="10-qevent事件类的基类">10. QEvent事件类的基类</h2>
<h2 id="11-qfile-继承自-qfiledevice">11. QFile 继承自 QFileDevice</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++">
</code></pre></td></tr></table>
</div>
</div><h2 id="12-qfiledevice">12. QFileDevice</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++">
</code></pre></td></tr></table>
</div>
</div><h2 id="13-qhash字典">13. QHash字典</h2>
<ol>
<li><code>QHash</code>的查找速度比<code>QMap</code>要快很多。</li>
<li>在对<code>QHash</code>进行迭代时，这些项是任意排序的。在<code>QMap</code>中，项总是按键排序。</li>
<li>QHash的关键类型必须提供运算符<code>==()</code>和全局<code>QHash(key)</code>函数。<code>QMap</code>的关键类型必须提供操作符<code>&lt;()</code>，以指定全序顺序。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++">
</code></pre></td></tr></table>
</div>
</div><h2 id="14-qiodevice所有io设备的基础接口类">14. QIODevice所有I/O设备的基础接口类</h2>
<ol>
<li>继承自<code>QObject</code>;</li>
</ol>
<h2 id="15-qitemselectionmodel跟踪一个视图选择的项目">15. QItemSelectionModel跟踪一个视图选择的项目</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//实例方法
</span><span class="c1"></span><span class="n">isRowSelected</span><span class="p">(</span><span class="kt">int</span> <span class="n">row</span><span class="p">,</span> <span class="k">const</span> <span class="n">QModelIndex</span> <span class="o">&amp;</span><span class="n">parent</span> <span class="o">=</span> <span class="n">QModelIndex</span><span class="p">())</span><span class="c1">//整行的所有元素都选中，返回TRUE
</span></code></pre></td></tr></table>
</div>
</div><h2 id="16-qjsonarray">16. QJsonArray</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="n">push_back</span><span class="p">()</span> <span class="c1">//放在队尾
</span></code></pre></td></tr></table>
</div>
</div><h2 id="17-qjsonobject-json">17. QJsonObject json</h2>
<ol>
<li>可以嵌套，可以配合<code>QJsonArray</code>一起使用。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++">
</code></pre></td></tr></table>
</div>
</div><h2 id="18-qlinkedlist链表">18. QLinkedList链表</h2>
<h2 id="19-qlist列表">19. QList列表</h2>
<ol>
<li>大多数情况下可以用QList。像prepend()和insert()这种操作，通常QList比QVector快的多。这是因为QList是基于index标签存储它的元素项在内存中，比那种依赖iterator迭代的更快捷。而且你的代码也更少。</li>
<li>如果你需要一个真正的连接着的list，且需要保证一个固定插入耗时。那就用迭代器，而不是标签。使用QLinkedList();</li>
<li>如果你需要开辟连续的内存空间存储，或者你的元素远比一个指针大，这时你需要避免个别插入操作，出现堆栈溢出，这时候用QVector</li>
<li>如果你需要一个低层的可变数量大小的数组，用QVarLengthArray就够了。他可以预先在栈中分配已知长度大小的数组，如果超过这个长度，会在堆中继续存储。默认大小256</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//实例方法
</span><span class="c1">//增加
</span><span class="c1"></span><span class="n">append</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">)</span>
<span class="n">append</span><span class="p">(</span><span class="k">const</span> <span class="n">QList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">)</span>
<span class="c1">//查
</span><span class="c1"></span><span class="n">at</span><span class="p">()</span><span class="c1">//获取指定index的元素
</span><span class="c1"></span><span class="n">indexof</span><span class="p">()</span>   <span class="c1">//
</span><span class="c1"></span><span class="n">size</span><span class="p">()</span><span class="c1">//返回节点的数目
</span><span class="c1"></span><span class="n">count</span><span class="p">()</span><span class="c1">//返回节点的数目
</span><span class="c1"></span><span class="n">isEmpty</span><span class="p">()</span><span class="c1">//空，返回true
</span><span class="c1">//删除元素
</span><span class="c1"></span><span class="n">removeOne</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>    <span class="c1">//删除第一次出现的指定元素
</span><span class="c1">//排序
</span><span class="c1"></span><span class="n">qSort</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="n">compare</span><span class="p">);</span><span class="c1">//compare是排序回调函数
</span><span class="c1">//遍历    
</span><span class="c1"></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">count</span><span class="p">()</span> <span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="n">i</span><span class="p">).</span><span class="n">num</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="20-qmap-红黑树的字典">20. QMap 红黑树的字典</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//实例方法
</span><span class="c1"></span><span class="n">isEmpty</span><span class="p">()</span><span class="c1">//判断是否为空
</span><span class="c1"></span><span class="n">insert</span><span class="p">()</span><span class="c1">//插入一个键值对
</span><span class="c1"></span><span class="n">contains</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="c1">//判断是否包含某个key
</span><span class="c1"></span><span class="n">QMap</span><span class="o">&lt;</span><span class="n">QString</span><span class="p">,</span><span class="n">QString</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">m_map</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#34;111&#34;</span><span class="p">);</span> <span class="c1">//找到特定的“键-值”对  
</span><span class="c1"></span><span class="n">it</span><span class="p">.</span><span class="n">value</span><span class="p">()</span><span class="c1">//获取map里对应的值
</span><span class="c1">//遍历
</span><span class="c1"></span><span class="n">QMap</span><span class="o">&lt;</span><span class="n">QString</span><span class="p">,</span> <span class="n">QString</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">iterIndex</span> <span class="o">=</span> <span class="n">iter</span><span class="p">.</span><span class="n">valueOptions</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<span class="k">while</span> <span class="p">(</span><span class="n">iterIndex</span> <span class="o">!=</span> <span class="n">iter</span><span class="p">.</span><span class="n">valueOptions</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="21-qmodelindex在数据模型中定位数据">21. QModelIndex在数据模型中定位数据</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++">
</code></pre></td></tr></table>
</div>
</div><h2 id="22-qobject所有qt类的基类">22. <code>QObject</code>【所有Qt类的基类】</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="n">setProperty</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">QVariant</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">)</span><span class="c1">//设置自定义属性（所有的类都可用），灵活方便
</span><span class="c1"></span><span class="n">property</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span> <span class="k">const</span><span class="c1">//获取到自定义的数据
</span><span class="c1"></span><span class="n">sender</span><span class="p">()</span><span class="c1">//获取到信号的发送者
</span><span class="c1"></span><span class="n">timerEvent</span><span class="p">(</span><span class="n">QTimerEvent</span> <span class="o">*</span><span class="n">event</span><span class="p">)</span><span class="c1">//接收定时事件
</span></code></pre></td></tr></table>
</div>
</div><h2 id="23-qstringqt内部的编码方式-unicode-utf-16">23. QString（QT内部的编码方式 Unicode (utf-16)）</h2>
<ol>
<li><a href="https://blog.csdn.net/xianjia4720/article/details/90516063" target="_blank" rel="noopener noreffer">真正的QString转char，utf8编码转gb2312编码</a>.</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//static方法
</span><span class="c1"></span><span class="n">number</span><span class="p">(</span><span class="kt">double</span> <span class="n">n</span><span class="p">,</span> <span class="kt">char</span> <span class="n">format</span> <span class="o">=</span> <span class="sc">&#39;g&#39;</span><span class="p">,</span> <span class="kt">int</span> <span class="n">precision</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span><span class="c1">//e科学计数法e；E科学计数法E；f浮点数；g:e或者f；G：E或者f
</span><span class="c1">//实例方法
</span><span class="c1"></span><span class="kt">int</span> <span class="n">compare</span><span class="p">(</span><span class="k">const</span> <span class="n">QString</span> <span class="o">&amp;</span><span class="n">other</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">CaseSensitivity</span> <span class="n">cs</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">CaseSensitive</span><span class="p">)</span> <span class="k">const</span><span class="c1">//返回小于等于大于0的整数
</span><span class="c1"></span><span class="n">split</span><span class="p">()</span>     <span class="c1">//QString::SkipEmptyParts忽略空的部分，如：split(QRegExp(&#34; *\&#34;&#34;), QString::SkipEmptyParts)[0]
</span><span class="c1"></span><span class="n">QString</span><span class="p">(</span><span class="s">&#34;%1%2&#34;</span><span class="p">).</span><span class="n">arg</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">).</span><span class="n">arg</span><span class="p">()</span>   <span class="c1">//格式化arg(hour, 2, 10, QLatin1Char(&#39;0&#39;))补0
</span><span class="c1"></span><span class="n">arg</span><span class="p">()</span><span class="c1">//可以直接包含至多10个QString
</span><span class="c1"></span><span class="n">arg</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fieldWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">int</span> <span class="n">base</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">QChar</span> <span class="n">fillChar</span> <span class="o">=</span> <span class="n">QLatin1Char</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">))</span> <span class="k">const</span><span class="c1">//fieldWidth最小的填充空间量，正值是右对齐，负值是左对齐
</span><span class="c1"></span><span class="n">setNum</span><span class="p">()</span>    <span class="c1">//数字转为QString
</span><span class="c1"></span><span class="n">simplified</span><span class="p">()</span>  <span class="c1">//返回一个字符串，该字符串从开头和结尾删除了空格，并将每个内部空格序列替换为一个空格
</span><span class="c1"></span><span class="n">trimmed</span><span class="p">()</span>  <span class="c1">//返回从开头和结尾删除空格的字符串。
</span><span class="c1"></span><span class="n">QStringList</span> <span class="n">split</span><span class="p">(</span><span class="k">const</span> <span class="n">QString</span> <span class="o">&amp;</span><span class="n">sep</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">SplitBehavior</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">KeepEmptyParts</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">CaseSensitivity</span> <span class="n">cs</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">CaseSensitive</span><span class="p">)</span> <span class="k">const</span>
<span class="n">QStringList</span> <span class="n">split</span><span class="p">(</span><span class="n">QChar</span> <span class="n">sep</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">SplitBehavior</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">KeepEmptyParts</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">CaseSensitivity</span> <span class="n">cs</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">CaseSensitive</span><span class="p">)</span> <span class="k">const</span>
<span class="n">QStringList</span> <span class="n">split</span><span class="p">(</span><span class="k">const</span> <span class="n">QRegExp</span> <span class="o">&amp;</span><span class="n">rx</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">SplitBehavior</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">KeepEmptyParts</span><span class="p">)</span> <span class="k">const</span>
<span class="n">QStringList</span> <span class="n">split</span><span class="p">(</span><span class="k">const</span> <span class="n">QRegularExpression</span> <span class="o">&amp;</span><span class="n">re</span><span class="p">,</span> <span class="n">Qt</span><span class="o">::</span><span class="n">SplitBehavior</span> <span class="n">behavior</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">::</span><span class="n">KeepEmptyParts</span><span class="p">)</span> <span class="k">const</span>
<span class="cm">/*转为char* */</span>
<span class="n">Qstring</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;helloworld&#34;</span><span class="p">;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">;</span>
<span class="n">QByteArray</span> <span class="n">ba</span> <span class="o">=</span> <span class="n">str</span><span class="p">.</span><span class="n">toLatin1</span><span class="p">();</span> 
<span class="n">s</span> <span class="o">=</span> <span class="n">ba</span><span class="p">.</span><span class="n">data</span><span class="p">();</span>
<span class="cm">/*正则*/</span>
<span class="n">constIterator</span> <span class="o">=</span> <span class="n">list</span><span class="p">.</span><span class="n">constBegin</span><span class="p">();</span><span class="c1">//0
</span><span class="c1"></span><span class="n">QRegExp</span> <span class="nf">rx</span><span class="p">(</span><span class="s">&#34;[A-Z]+&#34;</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">if</span> <span class="p">((</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">constIterator</span><span class="p">).</span><span class="n">indexOf</span><span class="p">(</span><span class="n">rx</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)){</span>
    <span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">rx</span><span class="p">.</span><span class="n">cap</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="n">constIterator</span><span class="o">++</span><span class="p">;</span><span class="c1">//1
</span><span class="c1"></span>    <span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">constIterator</span><span class="p">).</span><span class="n">split</span><span class="p">(</span><span class="n">QRegExp</span><span class="p">(</span><span class="s">&#34; *</span><span class="se">\&#34;</span><span class="s">&#34;</span><span class="p">),</span> <span class="n">QString</span><span class="o">::</span><span class="n">SkipEmptyParts</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="24-qstringlist">24. QStringList</h2>
<ol>
<li>QString调用split之后生成。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="n">append</span><span class="p">()</span>    <span class="c1">//增加字符串或者&lt;&lt;
</span><span class="c1"></span><span class="n">join</span><span class="p">()</span>      <span class="c1">//合并成一个字符串
</span><span class="c1"></span><span class="cm">/*遍历*/</span>
<span class="n">QList</span><span class="o">&lt;</span><span class="n">QString</span><span class="o">&gt;::</span><span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">itend</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(;</span><span class="n">it</span> <span class="o">!=</span> <span class="n">itend</span><span class="p">;</span> <span class="n">it</span><span class="o">++</span><span class="p">,</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">it</span> <span class="o">==</span> <span class="n">pFindLine</span><span class="o">-&gt;</span><span class="n">text</span><span class="p">()){</span><span class="c1">//找到，高亮显示
</span><span class="c1"></span>        <span class="n">QModelIndex</span> <span class="n">index</span> <span class="o">=</span> <span class="n">model</span><span class="o">-&gt;</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="n">m_pTabList</span><span class="o">-&gt;</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="25-qtextcodec编码类">25. QTextCodec编码类</h2>
<h2 id="26-qthread多线程">26. QThread多线程</h2>
<ol>
<li>QThread类提供了一个与平台无关的管理线程的方法。</li>
<li>一个QThread对象管理一个线程。</li>
<li>方法一：写一个类继承QThread，并重写其run()函数；run()函数是新线程的入口，run()函数退出，意味着线程的终止；使用start()函数来启动子线程，而不是run()；start()会自动调用run()；与主线程通过信号和槽进行通讯。</li>
<li>方法二：使用<code>moveToThread()</code>。</li>
<li>【注意】Qt中的UI操作，比如QMainWindow、QWidget之类的创建、操作，<code>只能位于主线程</code>！一般思路是，主线程负责提供界面，子线程负责无UI的单一任务，通过“信号-槽”与主线程交互。</li>
<li>QThread本身的成员都不属于新线程，而且在QThread构造函数里通过new得到的实例，也不属于新线程。这一特性意味着，如果要实现多线程操作，那么你希望属于新线程的实例、变量等，应该在run()中进行初始化、实例化等操作。</li>
<li><code>qDebug() &lt;&lt; &quot;Current thread:&quot; &lt;&lt; thread();</code>用于判断是否在子线程。</li>
</ol>
<h2 id="27-qtime时钟时间">27. QTime时钟时间</h2>
<h2 id="28-qtimer">28. QTimer</h2>
<ol>
<li>
<p>提供了重复和单次触发【信号】(非事件)的定时器。</p>
</li>
<li>
<p>当QTimer的父对象被销毁时，它也会被自动销毁。</p>
</li>
<li>
<p>定时器之间不是并行处理数据，而是分片占用主线程资源 ，且定时器完成其对应的slot函数任务后，下一个定时器才会开始执行其slot函数任务；</p>
</li>
<li>
<p>当定时器的间隔时间小于其slot函数任务的执行时间时，一旦定时器timeout时，其slot函数不会终止执行，只是暂停，内部变量仍然保存，而后继续执行。</p>
</li>
<li>
<p>把QTimer放进线程中的典型例子【此方法不能解决一个线程中使用两个定时器，因为他们关联到主线程的方法】：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="n">QThread</span><span class="o">*</span> <span class="kr">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QThread</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="kr">thread</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span>
   
<span class="n">QTimer</span> <span class="o">*</span><span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QTimer</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="c1">//没有指定parent, 所以不会自动销毁.
</span><span class="c1"></span><span class="n">timer</span><span class="o">-&gt;</span><span class="n">setInterval</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="n">timer</span><span class="o">-&gt;</span><span class="n">moveToThread</span><span class="p">(</span><span class="kr">thread</span><span class="p">);</span>
<span class="n">connect</span><span class="p">(</span><span class="n">timer</span><span class="p">,</span> <span class="n">SIGNAL</span><span class="p">(</span><span class="n">timeout</span><span class="p">()),</span> <span class="k">this</span><span class="p">,</span> <span class="n">SLOT</span><span class="p">(</span><span class="n">onTimeout</span><span class="p">()),</span> <span class="n">Qt</span><span class="o">::</span><span class="n">DirectConnection</span><span class="p">);</span><span class="c1">//指定DirectConnection 才会直接调用slot. 即在worker线程中处理;否则connect默认参数为AutoConnection, 所以当slot的object是main线程时, 会自动post 事件到main线程
</span><span class="c1"></span><span class="n">connect</span><span class="p">(</span><span class="kr">thread</span><span class="p">,</span> <span class="n">SIGNAL</span><span class="p">(</span><span class="n">started</span><span class="p">()),</span> <span class="n">timer</span><span class="p">,</span><span class="n">SLOT</span><span class="p">(</span><span class="n">start</span><span class="p">()));</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>【不可以在子线程中调用UI方法（UI的事件在主线程），必须要用信号和槽】。</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//实例方法
</span><span class="c1"></span><span class="n">setInterval</span><span class="p">(</span><span class="kt">int</span> <span class="n">msec</span><span class="p">)</span><span class="c1">//设置间隔，只的是上一个timeout执行完之后的间隔
</span></code></pre></td></tr></table>
</div>
</div><h2 id="29-qtimerevent定时事件">29. QTimerEvent定时事件</h2>
<ol>
<li>更高的效率。</li>
<li>继承自<code>QEvent</code>;</li>
</ol>
<h2 id="30-qvariant通用数据类型的封装容器">30. QVariant通用数据类型的封装容器</h2>
<ol>
<li>The QVariant class acts like a union for the most common Qt data types.</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//构造函数
</span><span class="c1"></span><span class="n">QVariant</span><span class="p">(</span><span class="kt">int</span> <span class="n">val</span><span class="p">)</span><span class="c1">//增加一个整数的数据类型
</span><span class="c1">//实例方法
</span><span class="c1"></span><span class="n">toInt</span><span class="p">()</span>
<span class="n">toFloat</span><span class="p">()</span>
<span class="n">QString</span> <span class="n">toString</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="31-qvarlengtharray低级变长数组">31. QVarLengthArray低级变长数组</h2>
<h2 id="32-qvector动态数组">32. QVector动态数组</h2>
<ol>
<li>大多数情况下QVector应该是你的首选</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-c++" data-lang="c++"><span class="n">append</span><span class="p">()</span>    <span class="c1">//增加元素
</span><span class="c1"></span><span class="n">count</span><span class="p">()</span>     <span class="c1">//元素的数目 和size() 相同
</span><span class="c1"></span><span class="n">clear</span><span class="p">()</span>     <span class="c1">//清空元素，qt5.6及以前会请空间，qt5.7开始不会清空间
</span><span class="c1"></span><span class="n">currentRtuPara</span><span class="p">.</span><span class="n">paras</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="n">QVector</span><span class="o">&lt;</span><span class="n">SProcValTableStruInfo_t</span><span class="o">&gt;</span><span class="p">().</span><span class="n">swap</span><span class="p">(</span><span class="n">currentRtuPara</span><span class="p">.</span><span class="n">paras</span><span class="p">);</span>
<span class="n">ins</span><span class="p">[]</span>       <span class="c1">//下标
</span><span class="c1"></span><span class="cm">/*遍历*/</span>
<span class="n">QVector</span><span class="o">&lt;</span><span class="n">QString</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">iter</span><span class="p">;</span>  
<span class="k">for</span> <span class="p">(</span><span class="n">iter</span><span class="o">=</span><span class="n">strArray</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="n">iter</span><span class="o">!=</span><span class="n">strArray</span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="n">iter</span><span class="o">++</span><span class="p">)</span>  
    <span class="n">qDebug</span><span class="p">()</span> <span class="o">&lt;&lt;</span>  <span class="o">*</span><span class="n">iter</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;</span><span class="se">\0</span><span class="s">&#34;</span><span class="err">；</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="33-qxmlstreamreader">33. QXmlStreamReader</h2>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/plat/">PLAT</a>
                </span><span><a href="/tags/qt/">QT</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>更新于 2021-09-18</span>
            </div><div class="post-info-mod"></div>
        </div></div><div class="post-nav"><a href="/post/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-03-gui/" class="prev" rel="prev" title="QT基本模块-GUI"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/post/plat-qt-%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97-04-network/" class="next" rel="next" title="QT-NETWORK">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.0"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/">子兰</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.css"><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.8.5/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/copy-tex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/mhchem.min.js"></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"Style-sen/hugoblogtalks"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"HM4MCKQ8J3","algoliaIndex":"blog_hugo","algoliaSearchKey":"745772944fb8af8e9fedec85d62d1a07","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script src="/js/themes.min.js"></script></body>
</html>
