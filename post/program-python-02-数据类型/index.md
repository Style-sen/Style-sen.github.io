# python数据类型


1. 4种基本数据类型：整数，浮点数，字符串，布尔值
2. `type()`

## 1. 字符串

### 1.1. 字符串驻留

1. 由于Cpython在编译优化时, 某些情况下会尝试使用已经存在的不可变对象而不是每次都创建一个新对象。这种行为被称作字符串的驻留[string interning]。
2. 发生驻留之后, 许多变量可能指向内存中的相同字符串对象，从而节省内存。
3. 在上面的代码中, 字符串是隐式驻留的. 何时发生隐式驻留则取决于具体的实现.。
4. 所有长度为 0 和长度为 1 的字符串都被驻留。
5. 字符串在编译时被实现 ('wtf' 将被驻留, 但是 ''.join(['w', 't', 'f']) 将不会被驻留)不会被驻留。
6. 字符串中只包含`字母、数字或下划线`时将会驻留. 所以 'wtf!' 由于包含 ! 而未被驻留. 
7. 当在同一行将 a 和 b 的值设置为 "wtf!" 的时候, Python 解释器会创建一个新对象, 然后同时引用第二个变量(`注: 仅适用于3.7以下，3.7是不一样的`). 如果你在不同的行上进行赋值操作, 它就不会“知道”已经有一个 wtf！ 对象 (因为 "wtf!" 不是按照上面提到的方式被隐式驻留的). 它是一种编译器优化, 特别适用于交互式环境.
8. 常量折叠(constant folding) 是 Python 中的一种 窥孔优化(peephole optimization) 技术. 这意味着在编译时表达式 'a'*20会被替换为'aaaaaaaaaaaaaaaaaaaa' 以减少运行时的时钟周期. `只有长度小于 20 的字符串才会发生常量折叠`.
9. 在 3.7 版本中, 常量折叠已经从窥孔优化器迁移至新的 AST 优化器, 后者可以以更高的一致性来执行优化`可支持长度大于20的常量折叠`. 

## 2. 序列（有序，下标访问）

1. 字符串、列表、元组都属于序列。

### 2.1. 序列的基本操作

1. `in(not in)`
2. `[]`切片
3. `+`连接
4. `*`重复

### 2.2. 序列unpack

1. 比如`a,b="12"`

### 2.3. 序列内建函数

1. `filter()`过滤。
2. `len()`长度。
3. `list()`转换为序列。

### 2.4. 序列比较大小

1. 相对应的元素进行大小比较（从左至右依次，判断出大小即停止）。

### 2.5. 列表

#### 2.5.1. 有数组a，要求去掉a所有为0的元素

```
a = [2,4,0,8,9,10,100,0,9,7]
# 方法1：Filter
a= filter(None, a)

# 方法2：Lambada
a = filter(lambda x: x != 0, a)

# 方法3：for
for b in a:
    if b == 0:
        a.remove(b)
```

## 3. 字典

1. key经过hash运算。可以是字符串、数字、float、tuple。不可以重复。

## 4. 集合

```
"集合主要对字符串或列表(可以是数字列表)，不能是数字"

"创建集合"
set()

.add()    "把要传入的元素做为一个整个添加到集合中"
.update()    "是把要传入的元素拆分，做为个体传入到集合中"
.remove()    "删除操作"
&    "交集"
|    "并集"
-    "差集"
a.issubset(b)    "判断a是否是b的子集"
a.issuperset(b)    "判断a是否是b的父集"
```

1. [一文带你了解 Python 集合与基本的集合运算](https://www.jiqizhixin.com/articles/062403)

## 5. bytes

1. `bytes()` 可将整数内容的序列变位bytes字符串。

## 6. 枚举(enum)

1. 使用标准库中的`enum`模块.

## 7. 类型转换

1. `int()`
2. `float()`
2. `str()`
3. `bool()`
